{"version":3,"sources":["webpack:///./src/views/uploadMeasuredLevel.vue?b965","webpack:///src/views/uploadMeasuredLevel.vue","webpack:///./src/views/uploadMeasuredLevel.vue?6847","webpack:///./src/views/uploadMeasuredLevel.vue","webpack:///./src/views/uploadMeasuredLevel.vue?faaa"],"names":["render","_vm","this","_h","$createElement","_c","_self","_v","staticStyle","attrs","gettingMeasured","on","handleGetMeasuredClick","directives","name","rawName","value","expression","staticClass","_s","getMeasuredButtonText","step","model","callback","$$v","selectedReservoir","_l","item","key","id","handleFileChanges","fileList","stepOneClickNextDisable","stepOneClickNext","resultList","stepTwoClickSave","stepTwoClickBack","stepThreeClickWatchData","getMeasuredResultVisitable","$event","staticRenderFns","component"],"mappings":"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","file":"js/chunk-b5cb82d8.6d3f599e.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-container',[_c('el-header',[_vm._v(\" 上传实测数据 \"),_c('div',{staticStyle:{\"flex\":\"1\"}},[_c('el-button',{staticStyle:{\"margin\":\"0\",\"border-radius\":\"100px\"},attrs:{\"disabled\":_vm.gettingMeasured},on:{\"click\":_vm.handleGetMeasuredClick}},[_c('i',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.gettingMeasured),expression:\"gettingMeasured\"}],staticClass:\"el-icon-loading\"}),_vm._v(\" \"+_vm._s(_vm.getMeasuredButtonText)+\" \")])],1)]),_c('el-main',[_c('el-row',{attrs:{\"gutter\":15}},[_c('el-col',{attrs:{\"span\":18}},[_c('el-card',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.step===1),expression:\"step===1\"}],attrs:{\"shadow\":\"hover\"}},[_c('el-form',{attrs:{\"label-width\":\"20%\"}},[_c('el-form-item',{attrs:{\"label\":\"水库名称\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择\"},model:{value:(_vm.selectedReservoir),callback:function ($$v) {_vm.selectedReservoir=$$v},expression:\"selectedReservoir\"}},_vm._l((_vm.reservoirList),function(item){return _c('el-option',{key:item.id,attrs:{\"label\":item.name,\"value\":item.name}},[_vm._v(\" \"+_vm._s(item.name)+\" \")])}),1)],1),_c('el-form-item',{attrs:{\"label\":\"选择文件\"}},[_c('el-upload',{staticClass:\"upload-drag-list\",attrs:{\"drag\":\"\",\"action\":\"\",\"limit\":1,\"auto-upload\":false,\"show-file-list\":true,\"on-change\":_vm.handleFileChanges,\"on-remove\":_vm.handleFileChanges,\"multiple\":false,\"file-list\":_vm.fileList}},[_c('i',{staticClass:\"el-icon-upload\"}),_c('div',{staticClass:\"el-upload__text\"},[_vm._v(\"将文件拖到此处，或\"),_c('em',[_vm._v(\"点击上传\")])])])],1),_c('el-button',{attrs:{\"disabled\":_vm.stepOneClickNextDisable},on:{\"click\":_vm.stepOneClickNext}},[_vm._v(\" 下一步 \")])],1)],1),_c('el-card',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.step===2),expression:\"step===2\"}],attrs:{\"shadow\":\"hover\"}},[_vm._v(\" 从文件中提取到以下数据： \"),_c('el-table',{attrs:{\"data\":_vm.resultList,\"border\":true}},[_c('el-table-column',{attrs:{\"prop\":\"siteName\",\"label\":\"站名\"}}),_c('el-table-column',{attrs:{\"prop\":\"waterLevel\",\"label\":\"水位/m\"}}),_c('el-table-column',{attrs:{\"prop\":\"measuredStorage\",\"label\":\"蓄水量/亿m³\"}}),_c('el-table-column',{attrs:{\"prop\":\"date\",\"label\":\"日期\"}})],1),_c('el-button',{attrs:{\"type\":\"success\"},on:{\"click\":_vm.stepTwoClickSave}},[_vm._v(\" 确认并保存 \")]),_c('el-button',{on:{\"click\":_vm.stepTwoClickBack}},[_vm._v(\" 上一步 \")])],1),_c('el-card',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.step===3),expression:\"step===3\"}],attrs:{\"shadow\":\"hover\"}},[_c('i',{staticClass:\"el-icon-success\"}),_vm._v(\" 数据已保存 \"),_c('el-button',{on:{\"click\":_vm.stepThreeClickWatchData}},[_vm._v(\" 查看数据 \")])],1)],1),_c('el-col',{attrs:{\"span\":6}},[_c('el-card',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.step<4),expression:\"step<4\"}],attrs:{\"shadow\":\"hover\"}},[_c('el-steps',{attrs:{\"direction\":\"vertical\",\"active\":_vm.step-1}},[_c('el-step',{attrs:{\"title\":\"上传文件\",\"description\":\"选择目标水库，上传实测数据Excel文件\"}}),_c('el-step',{attrs:{\"title\":\"确认数据\",\"description\":\"确认数据提取结果\"}}),_c('el-step',{attrs:{\"title\":\"上传完成\"}})],1)],1)],1)],1)],1)],1),_c('el-dialog',{attrs:{\"title\":\"成功获取实测数据\",\"visible\":_vm.getMeasuredResultVisitable},on:{\"update:visible\":function($event){_vm.getMeasuredResultVisitable=$event}}},[_c('div',{staticStyle:{\"margin-left\":\"1em\",\"margin-top\":\"-10px\",\"color\":\"#868686\",\"font-size\":\"15px\"}},[_vm._v(\" 从 \"),_c('a',{staticStyle:{\"color\":\"#0098d9\",\"text-decoration\":\"none\"},attrs:{\"href\":\"http://xxfb.mwr.cn/ssIndex.html?type=3\",\"target\":\"_blank\"}},[_vm._v(\" 全国水雨情网站 \")]),_vm._v(\" 获取到以下数据，并已保存至数据库。 \")]),_c('el-table',{attrs:{\"data\":_vm.resultList,\"border\":true}},[_c('el-table-column',{attrs:{\"prop\":\"siteName\",\"label\":\"站名\"}}),_c('el-table-column',{attrs:{\"prop\":\"waterLevel\",\"label\":\"水位/m\"}}),_c('el-table-column',{attrs:{\"prop\":\"measuredStorage\",\"label\":\"蓄水量/亿m³\"}}),_c('el-table-column',{attrs:{\"prop\":\"date\",\"label\":\"日期\"}})],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div>\r\n        <el-container>\r\n            <el-header>\r\n                上传实测数据\r\n                <div style=\"flex: 1\">\r\n                    <el-button @click=\"handleGetMeasuredClick\" :disabled=\"gettingMeasured\"\r\n                               style=\"margin: 0;border-radius: 100px;\">\r\n                        <i class=\"el-icon-loading\" v-show=\"gettingMeasured\"/>\r\n                        {{getMeasuredButtonText}}\r\n                    </el-button>\r\n                </div>\r\n            </el-header>\r\n            <el-main>\r\n                <el-row :gutter=\"15\">\r\n                    <el-col :span=\"18\">\r\n                        <el-card shadow=\"hover\" v-show=\"step===1\">\r\n                            <el-form label-width=\"20%\">\r\n                                <el-form-item label=\"水库名称\">\r\n                                    <el-select v-model=\"selectedReservoir\"\r\n                                               placeholder=\"请选择\">\r\n                                        <el-option\r\n                                                v-for=\"item in reservoirList\"\r\n                                                :label=\"item.name\"\r\n                                                :value=\"item.name\"\r\n                                                :key=\"item.id\">\r\n                                            {{item.name}}\r\n                                        </el-option>\r\n                                    </el-select>\r\n                                </el-form-item>\r\n                                <el-form-item label=\"选择文件\">\r\n                                    <el-upload\r\n                                            class=\"upload-drag-list\"\r\n                                            drag\r\n                                            action=\"\"\r\n                                            :limit=\"1\"\r\n                                            :auto-upload=\"false\"\r\n                                            :show-file-list=\"true\"\r\n                                            :on-change=\"handleFileChanges\"\r\n                                            :on-remove=\"handleFileChanges\"\r\n                                            :multiple=\"false\"\r\n                                            :file-list=\"fileList\">\r\n                                        <i class=\"el-icon-upload\"></i>\r\n                                        <div class=\"el-upload__text\">将文件拖到此处，或<em>点击上传</em></div>\r\n                                    </el-upload>\r\n                                </el-form-item>\r\n                                <el-button @click=\"stepOneClickNext\" :disabled=\"stepOneClickNextDisable\">\r\n                                    下一步\r\n                                </el-button>\r\n                            </el-form>\r\n                        </el-card>\r\n                        <el-card shadow=\"hover\" v-show=\"step===2\">\r\n                            从文件中提取到以下数据：\r\n                            <el-table\r\n                                    :data=\"resultList\"\r\n                                    :border=\"true\"\r\n                            >\r\n                                <el-table-column\r\n                                        prop=\"siteName\"\r\n                                        label=\"站名\"\r\n                                ></el-table-column>\r\n                                <el-table-column\r\n                                        prop=\"waterLevel\"\r\n                                        label=\"水位/m\"\r\n                                ></el-table-column>\r\n                                <el-table-column\r\n                                        prop=\"measuredStorage\"\r\n                                        label=\"蓄水量/亿m³\"\r\n                                ></el-table-column>\r\n                                <el-table-column\r\n                                        prop=\"date\"\r\n                                        label=\"日期\"\r\n                                ></el-table-column>\r\n                            </el-table>\r\n                            <el-button type=\"success\" @click=\"stepTwoClickSave\">\r\n                                确认并保存\r\n                            </el-button>\r\n                            <el-button @click=\"stepTwoClickBack\">\r\n                                上一步\r\n                            </el-button>\r\n                        </el-card>\r\n                        <el-card shadow=\"hover\" v-show=\"step===3\">\r\n                            <i class=\"el-icon-success\"></i>\r\n                            数据已保存\r\n                            <el-button @click=\"stepThreeClickWatchData\">\r\n                                查看数据\r\n                            </el-button>\r\n                        </el-card>\r\n                    </el-col>\r\n\r\n                    <el-col :span=\"6\">\r\n                        <el-card shadow=\"hover\" v-show=\"step<4\">\r\n                            <el-steps direction=\"vertical\" :active=\"step-1\">\r\n                                <el-step title=\"上传文件\" description=\"选择目标水库，上传实测数据Excel文件\"></el-step>\r\n                                <el-step title=\"确认数据\" description=\"确认数据提取结果\"></el-step>\r\n                                <el-step title=\"上传完成\"></el-step>\r\n                            </el-steps>\r\n                        </el-card>\r\n                    </el-col>\r\n                </el-row>\r\n            </el-main>\r\n        </el-container>\r\n        <el-dialog title=\"成功获取实测数据\" :visible.sync=\"getMeasuredResultVisitable\">\r\n            <div style=\"margin-left: 1em; margin-top: -10px; color: #868686; font-size: 15px\">\r\n                从\r\n                <a href=\"http://xxfb.mwr.cn/ssIndex.html?type=3\" target=\"_blank\"\r\n                   style=\"color: #0098d9;text-decoration: none\">\r\n                    全国水雨情网站\r\n                </a>\r\n                获取到以下数据，并已保存至数据库。\r\n            </div>\r\n            <el-table\r\n                    :data=\"resultList\"\r\n                    :border=\"true\"\r\n            >\r\n                <el-table-column\r\n                        prop=\"siteName\"\r\n                        label=\"站名\"\r\n                ></el-table-column>\r\n                <el-table-column\r\n                        prop=\"waterLevel\"\r\n                        label=\"水位/m\"\r\n                ></el-table-column>\r\n                <el-table-column\r\n                        prop=\"measuredStorage\"\r\n                        label=\"蓄水量/亿m³\"\r\n                ></el-table-column>\r\n                <el-table-column\r\n                        prop=\"date\"\r\n                        label=\"日期\"\r\n                ></el-table-column>\r\n            </el-table>\r\n        </el-dialog>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    export default {\r\n        name: \"uploadMeasuredLevel\",\r\n        data: function () {\r\n            return {\r\n                fileList: [],\r\n                reservoirList: [],\r\n                selectedReservoir: '',\r\n                resultList: [],\r\n                step: 1,\r\n                gettingMeasured: false,\r\n                getMeasuredResultVisitable: false,\r\n            }\r\n        },\r\n        computed: {\r\n            stepOneClickNextDisable() {\r\n                return this.selectedReservoir === '' || this.fileList.length === 0;\r\n            },\r\n            getMeasuredButtonText: function () {\r\n                if (this.gettingMeasured) {\r\n                    return '请稍等';\r\n                } else {\r\n                    return '获取今日实测数据';\r\n                }\r\n            }\r\n        },\r\n        methods: {\r\n            handleFileChanges: function (file, fileList) {\r\n                this.fileList = fileList;\r\n            },\r\n            stepOneClickNext: function () {\r\n                //check\r\n                let formData = new FormData();\r\n                formData.append('reservoirName', this.selectedReservoir);\r\n                formData.append('measuredFile', this.fileList[0].raw);\r\n                this.axios({\r\n                    url: \"/api/upload/measured\",\r\n                    method: \"post\",\r\n                    data: formData,\r\n                    headers: {\r\n                        \"Content-Type\": \"multipart/form-data;charset=utf-8\"\r\n                    }\r\n                }).then((response) => {\r\n                    if (response.status === 200) {\r\n                        this.resultList = response.data;\r\n                        for (let i = 0; i < this.resultList.length; i++) {\r\n                            this.resultList[i].date = new Date(parseInt(this.resultList[i].date)).toLocaleDateString();\r\n                        }\r\n                        this.step++;\r\n                    }\r\n                })\r\n            },\r\n            handleGetMeasuredClick: function () {\r\n                if (this.selectedReservoir === '') {\r\n                    this.$notify({\r\n                        title: '警告',\r\n                        message: '请先在“水库名称”中选择水库',\r\n                        type: 'warning'\r\n                    });\r\n                    return;\r\n                }\r\n                this.gettingMeasured = true;\r\n                this.axios.get('/api/data/getwaterlevel', {params: {rname: this.selectedReservoir}}).then((response) => {\r\n                    if (response.status === 200) {\r\n                        if (response.data === 'success') {\r\n                            this.$notify({\r\n                                title: '成功',\r\n                                message: '已成功获取实测记录',\r\n                                type: 'success'\r\n                            });\r\n                            this.axios.get('/api/data/getTodayWaterLevel', {params: {rname: this.selectedReservoir}}).then((response) => {\r\n                                this.resultList = response.data;\r\n                                for (let i = 0; i < this.resultList.length; i++) {\r\n                                    this.resultList[i].date = new Date(parseInt(this.resultList[i].date)).toLocaleDateString();\r\n                                }\r\n                                this.getMeasuredResultVisitable = true;\r\n                            });\r\n                        } else if (response.data === 'duplicate') {\r\n                            this.$notify({\r\n                                title: '警告',\r\n                                message: '检测到系统中已有' + this.selectedReservoir + '于今日的实测记录，请先删除该记录后重试',\r\n                                type: 'warning'\r\n                            });\r\n                        } else if (response.data === 'notFound') {\r\n                            this.$notify({\r\n                                title: '错误',\r\n                                message: '无法获取实测记录，请检查水库名称与水文网中的是否一致',\r\n                                type: 'error'\r\n                            });\r\n                        }\r\n                    } else {\r\n                        this.$notify({\r\n                            title: '错误',\r\n                            message: '连接失败',\r\n                            type: 'error'\r\n                        });\r\n                    }\r\n                    this.gettingMeasured = false;\r\n                })\r\n            },\r\n            stepTwoClickBack: function () {\r\n                this.step--;\r\n            },\r\n            stepTwoClickSave: function () {\r\n                this.axios.get('/api/upload/measured/save').then((response) => {\r\n                    if (response.status === 200) {\r\n                        this.step++;\r\n\r\n                    } else {\r\n                        console.log(\"error\")\r\n                    }\r\n                })\r\n            },\r\n            stepThreeClickWatchData: function () {\r\n                this.$router.push('/dm')\r\n\r\n            },\r\n        },\r\n        mounted() {\r\n            this.axios.get('/api/reservoirInfo/reservoir').then((response) => {\r\n                if (response.status === 200) {\r\n                    this.reservoirList = response.data;\r\n\r\n                } else {\r\n                    console.log(\"error\")\r\n                }\r\n            });\r\n            this.selectedReservoir = this.$store.getters.getReservoir;\r\n        }\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n    .el-container {\r\n        min-height: 100%;\r\n    }\r\n\r\n    .el-main {\r\n        height: 100%;\r\n        display: inline-flex;\r\n        padding: 0 5px 0 20px;\r\n    }\r\n\r\n    .el-row {\r\n        width: 100%;\r\n        overflow: hidden;\r\n    }\r\n\r\n    .el-col-18 {\r\n        height: 100%;\r\n        overflow-y: auto;\r\n    }\r\n\r\n    .el-col-18::-webkit-scrollbar {\r\n        display: none;\r\n    }\r\n\r\n    .el-progress {\r\n        float: right;\r\n        width: 50%;\r\n        margin-top: 10px;\r\n    }\r\n\r\n    .el-button {\r\n        float: right;\r\n        margin-bottom: 20px;\r\n        margin-left: 20px;\r\n    }\r\n\r\n    .el-table {\r\n        margin-top: 10px;\r\n        margin-bottom: 20px;\r\n    }\r\n\r\n    .el-card {\r\n        border: 1px solid #d4d4d4;\r\n        margin-top: 20px;\r\n        margin-bottom: 20px;\r\n    }\r\n\r\n    .upload-drag-list {\r\n        max-width: 70%;\r\n    }\r\n\r\n    .el-steps {\r\n        height: 200px;\r\n    }\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./uploadMeasuredLevel.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./uploadMeasuredLevel.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./uploadMeasuredLevel.vue?vue&type=template&id=a1997d96&scoped=true&\"\nimport script from \"./uploadMeasuredLevel.vue?vue&type=script&lang=js&\"\nexport * from \"./uploadMeasuredLevel.vue?vue&type=script&lang=js&\"\nimport style0 from \"./uploadMeasuredLevel.vue?vue&type=style&index=0&id=a1997d96&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"a1997d96\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./uploadMeasuredLevel.vue?vue&type=style&index=0&id=a1997d96&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./uploadMeasuredLevel.vue?vue&type=style&index=0&id=a1997d96&scoped=true&lang=css&\""],"sourceRoot":""}