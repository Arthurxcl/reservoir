{"version":3,"sources":["webpack:///./src/views/uploadOpticalImage.vue?eb67","webpack:///./src/views/uploadOpticalImage.vue?8024","webpack:///src/views/uploadOpticalImage.vue","webpack:///./src/views/uploadOpticalImage.vue?3f85","webpack:///./src/views/uploadOpticalImage.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","_v","attrs","class","step","directives","name","rawName","value","expression","model","form","callback","$$v","$set","_l","item","key","id","_s","staticStyle","on","stepOneSetTest","staticClass","handleFileChanges","fileList","stepOneClickNextDisable","domProps","stepOneNextText","stepOneClickNext","flex","display","flexDirection","padding","_e","style","opacity","alignItems","margin","flexBasis","transition","stepTwoClickNext","stepTwoClickBack","waterArea","stepThreeClickSave","stepFourClickWatchData","staticRenderFns","component"],"mappings":"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","file":"js/chunk-63552bba.169ff49a.js","sourcesContent":["import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./uploadOpticalImage.vue?vue&type=style&index=0&id=66a5bfb2&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./uploadOpticalImage.vue?vue&type=style&index=0&id=66a5bfb2&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-container',[_c('el-header',[_vm._v(\" 上传光学影像 \")]),_c('el-main',[_c('el-row',{attrs:{\"gutter\":15}},[_c('el-col',{class:{'col-17-step2':_vm.step===2},attrs:{\"span\":18}},[_c('el-card',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.step===1),expression:\"step===1\"}],attrs:{\"shadow\":\"hover\"}},[_c('el-form',{attrs:{\"label-position\":\"right\",\"label-width\":\"20%\"}},[_c('el-form-item',{attrs:{\"label\":\"水库名称\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择\"},model:{value:(_vm.form.selectedReservoir),callback:function ($$v) {_vm.$set(_vm.form, \"selectedReservoir\", $$v)},expression:\"form.selectedReservoir\"}},_vm._l((_vm.reservoirList),function(item){return _c('el-option',{key:item.id,attrs:{\"label\":item.name,\"value\":item.name}},[_vm._v(\" \"+_vm._s(item.name)+\" \")])}),1)],1),_c('el-form-item',{attrs:{\"label\":\"卫星名称\"}},[_c('el-input',{staticStyle:{\"width\":\"60%\"},attrs:{\"placeholder\":\"请输入卫星名称\"},model:{value:(_vm.form.satelliteName),callback:function ($$v) {_vm.$set(_vm.form, \"satelliteName\", $$v)},expression:\"form.satelliteName\"}})],1),_c('el-form-item',{attrs:{\"label\":\"卫星周期\"}},[_c('el-input',{staticStyle:{\"width\":\"60%\"},attrs:{\"placeholder\":\"请输入周期\"},model:{value:(_vm.form.cycle),callback:function ($$v) {_vm.$set(_vm.form, \"cycle\", $$v)},expression:\"form.cycle\"}})],1),_c('el-form-item',{attrs:{\"label\":\"日期\"}},[_c('el-date-picker',{attrs:{\"type\":\"date\",\"placeholder\":\"请输入日期\"},model:{value:(_vm.form.date),callback:function ($$v) {_vm.$set(_vm.form, \"date\", $$v)},expression:\"form.date\"}})],1),_c('el-form-item',{attrs:{\"label\":\"分割算法\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择\"},model:{value:(_vm.form.cutAlgo),callback:function ($$v) {_vm.$set(_vm.form, \"cutAlgo\", $$v)},expression:\"form.cutAlgo\"}},_vm._l((_vm.cutAlgoList),function(item){return _c('el-option',{key:item.id,attrs:{\"label\":item.name,\"value\":item.name}},[_vm._v(\" \"+_vm._s(item.name)+\" \")])}),1)],1),_c('el-form-item',{attrs:{\"label\":\"左上角经纬度\"}},[_c('el-input',{staticStyle:{\"width\":\"60%\"},attrs:{\"placeholder\":\"以空格分隔经纬度，例如\\\"111.01 32.97\\\"\"},on:{\"input\":_vm.stepOneSetTest},model:{value:(_vm.form.topLeft),callback:function ($$v) {_vm.$set(_vm.form, \"topLeft\", $$v)},expression:\"form.topLeft\"}})],1),_c('el-form-item',{attrs:{\"label\":\"右下角经纬度\"}},[_c('el-input',{staticStyle:{\"width\":\"60%\"},attrs:{\"placeholder\":\"以空格分隔经纬度，例如\\\"111.75 32.93\\\"\"},on:{\"input\":_vm.stepOneSetTest},model:{value:(_vm.form.lowerRight),callback:function ($$v) {_vm.$set(_vm.form, \"lowerRight\", $$v)},expression:\"form.lowerRight\"}})],1),_c('el-form-item',{attrs:{\"label\":\"选择图像文件\"}},[_c('el-upload',{staticClass:\"upload-drag-list\",attrs:{\"drag\":\"\",\"action\":\"\",\"limit\":1,\"auto-upload\":false,\"show-file-list\":true,\"on-change\":_vm.handleFileChanges,\"on-remove\":_vm.handleFileChanges,\"multiple\":false,\"file-list\":_vm.fileList,\"list-type\":\"picture\"}},[_c('i',{staticClass:\"el-icon-upload\"}),_c('div',{staticClass:\"el-upload__text\"},[_vm._v(\"将文件拖到此处，或\"),_c('em',[_vm._v(\"点击上传\")])])])],1),_c('el-button',{attrs:{\"disabled\":_vm.stepOneClickNextDisable},domProps:{\"textContent\":_vm._s(_vm.stepOneNextText)},on:{\"click\":_vm.stepOneClickNext}})],1)],1),_c('el-card',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.step===2),expression:\"step===2\"}],staticClass:\"el-card-step2\",attrs:{\"shadow\":\"hover\",\"body-style\":{\n                                 flex:'1',\n                                 display:'flex',\n                                 flexDirection:'column',\n                                 padding:'0',\n                             }}},[_c('div',{staticStyle:{\"flex\":\"1\",\"position\":\"relative\"}},[(_vm.step===2)?_c('el-image',{staticClass:\"el-image-step2\",attrs:{\"src\":\"/upload/optical/getImageData?type=o\",\"fit\":\"contain\"}}):_vm._e(),(_vm.step===2)?_c('el-image',{staticClass:\"el-image-n el-image-step2\",style:({'opacity': 0.01 * _vm.opacity}),attrs:{\"src\":\"/upload/optical/getImageData?type=n\",\"fit\":\"contain\"}}):_vm._e()],1),_c('div',{style:({\n                            display: 'flex',\n                            alignItems: 'center',\n                            margin:'10px',\n                            flexBasis: '40px'\n                        })},[_c('span',{style:({'opacity': 1- (0.01 * _vm.opacity) * 0.8, transition: '.1s'})},[_vm._v(\"处理前\")]),_c('div',{staticStyle:{\"flex\":\"1\",\"margin-left\":\"20px\",\"margin-right\":\"20px\"}},[_c('el-slider',{attrs:{\"show-tooltip\":false},model:{value:(_vm.opacity),callback:function ($$v) {_vm.opacity=$$v},expression:\"opacity\"}})],1),_c('span',{style:({'opacity': (0.01 * _vm.opacity) * 0.8 + 0.2, transition: '.1s'})},[_vm._v(\"处理后\")]),_c('div',{staticStyle:{\"flex\":\"5\"}},[_c('el-button',{staticStyle:{\"margin-bottom\":\"0\"},on:{\"click\":_vm.stepTwoClickNext}},[_vm._v(\" 下一步 \")]),_c('el-button',{staticStyle:{\"margin-bottom\":\"0\"},on:{\"click\":_vm.stepTwoClickBack}},[_vm._v(\" 上一步 \")])],1)])]),_c('el-card',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.step===3),expression:\"step===3\"}],attrs:{\"shadow\":\"hover\"}},[_c('el-row',{staticStyle:{\"display\":\"flex\"}},[_c('el-col',{attrs:{\"span\":4}},[(_vm.step===3)?_c('el-image',{staticStyle:{\"border\":\"dotted #909399\"},attrs:{\"src\":\"/upload/optical/getImageData?type=n\",\"fit\":\"contain\",\"preview-src-list\":['/upload/optical/getImageData?type=n']}}):_vm._e()],1),_c('el-col',{staticStyle:{\"flex\":\"1\",\"display\":\"flex\",\"align-items\":\"center\",\"margin-left\":\"1em\"},attrs:{\"span\":20}},[_vm._v(\" 从图像中提取出的水域面积为： \"),_c('span',{staticStyle:{\"color\":\"#00b776\"},domProps:{\"textContent\":_vm._s(_vm.waterArea)}})])],1),_c('el-button',{attrs:{\"type\":\"success\"},on:{\"click\":_vm.stepThreeClickSave}},[_vm._v(\" 确认并保存 \")]),_c('el-button',{on:{\"click\":_vm.stepTwoClickBack}},[_vm._v(\" 上一步 \")])],1),_c('el-card',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.step===4),expression:\"step===4\"}],attrs:{\"shadow\":\"hover\"}},[_c('i',{staticClass:\"el-icon-success\"}),_vm._v(\" 数据已保存 \"),_c('el-button',{on:{\"click\":_vm.stepFourClickWatchData}},[_vm._v(\" 查看数据 \")])],1)],1),_c('el-col',{attrs:{\"span\":6}},[_c('el-card',{attrs:{\"shadow\":\"hover\"}},[_c('el-steps',{attrs:{\"direction\":\"vertical\",\"active\":_vm.step-1}},[_c('el-step',{attrs:{\"title\":\"上传文件\",\"description\":\"输入信息，上传图像文件\"}}),_c('el-step',{attrs:{\"title\":\"确认图像处理结果\",\"description\":\"检查图像是否被正确处理\"}}),_c('el-step',{attrs:{\"title\":\"水域面积提取\",\"description\":\"确认水域面积提取结果\"}}),_c('el-step',{attrs:{\"title\":\"上传完成\"}})],1)],1)],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div>\r\n        <el-container>\r\n            <el-header>\r\n                上传光学影像\r\n            </el-header>\r\n            <el-main>\r\n                <el-row :gutter=\"15\">\r\n                    <el-col :span=\"18\" :class=\"{'col-17-step2':step===2}\">\r\n                        <el-card shadow=\"hover\" v-show=\"step===1\">\r\n                            <el-form label-position=\"right\" label-width=\"20%\">\r\n                                <el-form-item label=\"水库名称\">\r\n                                    <el-select v-model=\"form.selectedReservoir\"\r\n                                               placeholder=\"请选择\">\r\n                                        <el-option\r\n                                                v-for=\"item in reservoirList\"\r\n                                                :label=\"item.name\"\r\n                                                :value=\"item.name\"\r\n                                                :key=\"item.id\">\r\n                                            {{item.name}}\r\n                                        </el-option>\r\n                                    </el-select>\r\n                                </el-form-item>\r\n                                <el-form-item label=\"卫星名称\">\r\n                                    <el-input v-model=\"form.satelliteName\" placeholder=\"请输入卫星名称\"\r\n                                              style=\"width: 60%\"></el-input>\r\n                                </el-form-item>\r\n                                <el-form-item label=\"卫星周期\">\r\n                                    <el-input v-model=\"form.cycle\" placeholder=\"请输入周期\" style=\"width: 60%\"></el-input>\r\n                                </el-form-item>\r\n                                <el-form-item label=\"日期\">\r\n                                    <el-date-picker type=\"date\" v-model=\"form.date\"\r\n                                                    placeholder=\"请输入日期\"></el-date-picker>\r\n                                </el-form-item>\r\n                                <el-form-item label=\"分割算法\">\r\n                                    <el-select v-model=\"form.cutAlgo\"\r\n                                               placeholder=\"请选择\">\r\n                                        <el-option\r\n                                                v-for=\"item in cutAlgoList\"\r\n                                                :label=\"item.name\"\r\n                                                :value=\"item.name\"\r\n                                                :key=\"item.id\">\r\n                                            {{item.name}}\r\n                                        </el-option>\r\n                                    </el-select>\r\n                                </el-form-item>\r\n                                <el-form-item label=\"左上角经纬度\">\r\n                                    <el-input v-model=\"form.topLeft\" placeholder='以空格分隔经纬度，例如\"111.01 32.97\"'\r\n                                              style=\"width: 60%\" @input=\"stepOneSetTest\"></el-input>\r\n                                </el-form-item>\r\n                                <el-form-item label=\"右下角经纬度\">\r\n                                    <el-input v-model=\"form.lowerRight\" placeholder='以空格分隔经纬度，例如\"111.75 32.93\"'\r\n                                              style=\"width: 60%\" @input=\"stepOneSetTest\"></el-input>\r\n                                </el-form-item>\r\n                                <el-form-item label=\"选择图像文件\">\r\n                                    <el-upload\r\n                                            class=\"upload-drag-list\"\r\n                                            drag\r\n                                            action=\"\"\r\n                                            :limit=\"1\"\r\n                                            :auto-upload=\"false\"\r\n                                            :show-file-list=\"true\"\r\n                                            :on-change=\"handleFileChanges\"\r\n                                            :on-remove=\"handleFileChanges\"\r\n                                            :multiple=\"false\"\r\n                                            :file-list=\"fileList\"\r\n                                            list-type=\"picture\">\r\n                                        <i class=\"el-icon-upload\"></i>\r\n                                        <div class=\"el-upload__text\">将文件拖到此处，或<em>点击上传</em></div>\r\n                                    </el-upload>\r\n                                </el-form-item>\r\n                                <el-button @click=\"stepOneClickNext\"\r\n                                           :disabled=\"stepOneClickNextDisable\"\r\n                                           v-text=\"stepOneNextText\">\r\n                                </el-button>\r\n                            </el-form>\r\n                        </el-card>\r\n                        <el-card shadow=\"hover\"\r\n                                 class=\"el-card-step2\"\r\n                                 v-show=\"step===2\"\r\n                                 :body-style=\"{\r\n                                     flex:'1',\r\n                                     display:'flex',\r\n                                     flexDirection:'column',\r\n                                     padding:'0',\r\n                                 }\">\r\n                            <div style=\"flex:1; position: relative\">\r\n                                <el-image src=\"/upload/optical/getImageData?type=o\"\r\n                                          fit=\"contain\"\r\n                                          class=\"el-image-step2\"\r\n                                          v-if=\"step===2\"\r\n                                />\r\n                                <el-image src=\"/upload/optical/getImageData?type=n\"\r\n                                          fit=\"contain\"\r\n                                          class=\"el-image-n el-image-step2\"\r\n                                          v-if=\"step===2\"\r\n                                          :style=\"{'opacity': 0.01 * opacity}\"\r\n                                />\r\n                            </div>\r\n\r\n                            <div :style=\"{\r\n                                display: 'flex',\r\n                                alignItems: 'center',\r\n                                margin:'10px',\r\n                                flexBasis: '40px'\r\n                            }\">\r\n                                <span :style=\"{'opacity': 1- (0.01 * opacity) * 0.8, transition: '.1s'}\">处理前</span>\r\n                                <div style=\"flex:1; margin-left: 20px; margin-right: 20px\">\r\n                                    <el-slider v-model=\"opacity\" :show-tooltip=\"false\"></el-slider>\r\n                                </div>\r\n                                <span :style=\"{'opacity': (0.01 * opacity) * 0.8 + 0.2, transition: '.1s'}\">处理后</span>\r\n                                <div style=\"flex:5\">\r\n                                    <el-button style=\"margin-bottom: 0\" @click=\"stepTwoClickNext\">\r\n                                        下一步\r\n                                    </el-button>\r\n                                    <el-button style=\"margin-bottom: 0\" @click=\"stepTwoClickBack\">\r\n                                        上一步\r\n                                    </el-button>\r\n                                </div>\r\n\r\n                            </div>\r\n                        </el-card>\r\n                        <el-card shadow=\"hover\" v-show=\"step===3\">\r\n                            <el-row style=\"display: flex;\">\r\n                                <el-col :span=\"4\">\r\n                                    <el-image src=\"/upload/optical/getImageData?type=n\"\r\n                                              fit=\"contain\"\r\n                                              :preview-src-list=\"['/upload/optical/getImageData?type=n']\"\r\n                                              v-if=\"step===3\"\r\n                                              style=\"border: dotted #909399;\"\r\n                                    />\r\n                                </el-col>\r\n                                <el-col :span=\"20\" style=\"flex: 1; display: flex; align-items: center; margin-left: 1em\">\r\n                                    从图像中提取出的水域面积为：\r\n                                    <span style=\"color: #00b776\" v-text=\"waterArea\">\r\n                                    </span>\r\n                                </el-col>\r\n                            </el-row>\r\n                            <el-button type=\"success\" @click=\"stepThreeClickSave\">\r\n                                确认并保存\r\n                            </el-button>\r\n                            <el-button @click=\"stepTwoClickBack\">\r\n                                上一步\r\n                            </el-button>\r\n                        </el-card>\r\n                        <el-card shadow=\"hover\" v-show=\"step===4\">\r\n                            <i class=\"el-icon-success\"></i>\r\n                            数据已保存\r\n                            <el-button @click=\"stepFourClickWatchData\">\r\n                                查看数据\r\n                            </el-button>\r\n                        </el-card>\r\n                    </el-col>\r\n\r\n                    <el-col :span=\"6\">\r\n                        <el-card shadow=\"hover\">\r\n                            <el-steps direction=\"vertical\" :active=\"step-1\">\r\n                                <el-step title=\"上传文件\" description=\"输入信息，上传图像文件\"></el-step>\r\n                                <el-step title=\"确认图像处理结果\" description=\"检查图像是否被正确处理\"></el-step>\r\n                                <el-step title=\"水域面积提取\" description=\"确认水域面积提取结果\"></el-step>\r\n                                <el-step title=\"上传完成\"></el-step>\r\n                            </el-steps>\r\n                        </el-card>\r\n                    </el-col>\r\n\r\n\r\n                </el-row>\r\n\r\n\r\n            </el-main>\r\n        </el-container>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    export default {\r\n        name: \"uploadOpticalImage\",\r\n        data: function () {\r\n            return {\r\n                fileList: [],\r\n                reservoirList: [],\r\n                cutAlgoList: [\r\n                    {\r\n                        id: 1,\r\n                        name: \"FCM\",\r\n                    },\r\n                ],\r\n                form: {\r\n                    selectedReservoir: '',\r\n                    satelliteName: '',\r\n                    cycle: '',\r\n                    date: '',\r\n                    cutAlgo: '',\r\n                    topLeft: '',\r\n                    lowerRight: '',\r\n\r\n                },\r\n                selectRadar: {\r\n                    index: '',\r\n                    lng: '',\r\n                    lat: '',\r\n                    level: '',\r\n                },\r\n                uploadPercentage: 0,\r\n                resultList: [],\r\n                step: 1,\r\n                pointer: {\r\n                    url: '/marker.png',\r\n                    size: {width: 50, height: 50},\r\n                },\r\n                centerPoint: {\r\n                    lng: '',\r\n                    lat: '',\r\n                },\r\n                zoom: 15,\r\n                opacity: 100,\r\n                stepOneNextText: \"下一步\",\r\n                uploading: false,\r\n                waterArea:'',\r\n            }\r\n        },\r\n        computed: {\r\n            stepOneClickNextDisable() {\r\n                return this.form.selectedReservoir === ''\r\n                    || this.form.satelliteName === ''\r\n                    || this.form.cycle === ''\r\n                    || this.form.date === ''\r\n                    || this.form.cutAlgo === ''\r\n                    || this.form.topLeft === ''\r\n                    || this.form.lowerRight === ''\r\n                    || this.fileList.length === 0\r\n                    || this.uploading;\r\n            },\r\n\r\n        },\r\n        methods: {\r\n            handleFileChanges: function (file, fileList) {\r\n                this.fileList = fileList;\r\n            },\r\n            stepOneClickNext: function () {\r\n                //check\r\n                this.uploading = true;\r\n                this.stepOneNextText = \"正在处理数据\";\r\n                let formData = new FormData();\r\n                for (let i = 0; i < this.fileList.length; i++) {\r\n                    formData.append('opticalFile', this.fileList[i].raw)\r\n                }\r\n                this.axios({\r\n                    url: \"/upload/optical/opticalfile\",\r\n                    method: \"post\",\r\n                    data: formData,\r\n                    headers: {\r\n                        \"Content-Type\": \"multipart/form-data;charset=utf-8\"\r\n                    },\r\n                    onUploadProgress: progressEvent => {\r\n                        this.uploadPercentage = (progressEvent.loaded / progressEvent.total * 100 | 0);\r\n                    }\r\n                }).then((response) => {\r\n                    console.log(response);\r\n                    if (response.status === 200) {\r\n                        this.step++;\r\n                        this.stepOneNextText = \"下一步\";\r\n                        this.uploading = false;\r\n                    } else {\r\n                        console.log(\"error\")\r\n                    }\r\n                })\r\n            },\r\n            stepOneSetTest: function(){\r\n                if (this.form.topLeft === '//' || this.form.lowerRight === '//'){\r\n                    this.form.topLeft = '111.000 33.070';\r\n                    this.form.lowerRight = '111.775 32.447';\r\n                }\r\n            },\r\n            stepTwoClickBack: function () {\r\n                this.step--;\r\n            },\r\n            stepTwoClickNext: function () {\r\n                let formData = new FormData();\r\n                formData.append('reservoirName', this.form.selectedReservoir);\r\n                formData.append('satelliteName', this.form.satelliteName);\r\n                formData.append('cycle', this.form.cycle);\r\n                formData.append('date', this.form.date);\r\n                formData.append('cutAlgo', this.form.cutAlgo);\r\n                formData.append('topLeft', this.form.topLeft);\r\n                formData.append('lowerRight', this.form.lowerRight);\r\n                this.axios.post('/upload/optical/getArea', formData).then((response)=>{\r\n                    if (response.status===200){\r\n                        this.waterArea = response.data;\r\n                        this.step++;\r\n                    } else {\r\n                        console.log(\"error\")\r\n                    }\r\n                })\r\n            },\r\n            stepThreeClickSave: function(){\r\n                let formData = new FormData();\r\n                formData.append('reservoirName', this.form.selectedReservoir);\r\n                formData.append('date', this.form.date);\r\n                formData.append('cutAlgo', this.form.cutAlgo);\r\n                this.axios.post('/upload/optical/saveArea', formData).then((response)=>{\r\n                    if (response.status===200){\r\n                        this.waterArea = response.data;\r\n                        this.step++;\r\n                    } else {\r\n                        console.log(\"error\")\r\n                    }\r\n                })\r\n            },\r\n            stepFourClickWatchData: function () {\r\n                this.$router.push('/dm')\r\n\r\n            }\r\n\r\n        },\r\n        mounted() {\r\n            this.axios.get('/api/reservoirInfo/reservoir').then((response) => {\r\n                if (response.status === 200) {\r\n                    this.reservoirList = response.data;\r\n\r\n                } else {\r\n                    console.log(\"error\")\r\n                }\r\n\r\n                this.form.selectedReservoir = this.$store.getters.getReservoir;\r\n            })\r\n        }\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n    .el-container {\r\n        min-height: 100%;\r\n    }\r\n\r\n    .el-main {\r\n        height: 100%;\r\n        display: inline-flex;\r\n        padding: 0 5px 0 20px;\r\n    }\r\n\r\n    .el-row {\r\n        width: 100%;\r\n        overflow: hidden;\r\n    }\r\n\r\n    .el-col-18 {\r\n        height: 100%;\r\n        overflow-y: auto;\r\n    }\r\n\r\n    .el-col-18::-webkit-scrollbar {\r\n        display: none;\r\n    }\r\n\r\n    .col-17-step2 {\r\n        display: flex;\r\n    }\r\n\r\n    .el-progress {\r\n        float: right;\r\n        width: 50%;\r\n        margin-top: 10px;\r\n    }\r\n\r\n    .el-button {\r\n        float: right;\r\n        margin-bottom: 20px;\r\n        margin-left: 20px;\r\n    }\r\n\r\n    .el-table {\r\n        margin-top: 10px;\r\n        margin-bottom: 20px;\r\n    }\r\n\r\n    .el-image-step2 {\r\n        margin: 10px 10px 0 10px;\r\n        position: absolute;\r\n        top: 0;\r\n        left: 0;\r\n        right: 0;\r\n        bottom: 0;\r\n    }\r\n\r\n    .el-image-n {\r\n        transition: .1s;\r\n    }\r\n\r\n    .el-card {\r\n        border: 1px solid #d4d4d4;\r\n        margin-top: 20px;\r\n        margin-bottom: 20px;\r\n    }\r\n\r\n    .el-card-step2 {\r\n        flex: 1;\r\n        display: flex;\r\n    }\r\n\r\n    .upload-drag-list {\r\n        max-width: 70%;\r\n    }\r\n\r\n    .el-steps {\r\n        height: 250px;\r\n    }\r\n\r\n    .radar-map {\r\n        flex: 1;\r\n    }\r\n\r\n    .el-card-step2-span {\r\n        color: #00b776;\r\n    }\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./uploadOpticalImage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./uploadOpticalImage.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./uploadOpticalImage.vue?vue&type=template&id=66a5bfb2&scoped=true&\"\nimport script from \"./uploadOpticalImage.vue?vue&type=script&lang=js&\"\nexport * from \"./uploadOpticalImage.vue?vue&type=script&lang=js&\"\nimport style0 from \"./uploadOpticalImage.vue?vue&type=style&index=0&id=66a5bfb2&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"66a5bfb2\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}